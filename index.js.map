{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/loader.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/load-more-button.js","../src/js/messages.js","../src/js/scroll.js","../src/main.js"],"sourcesContent":["export const refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  submitButton: document.querySelector('.js-submit-button'),\n  loadButton: document.querySelector('.js-load-button'),\n  gallery: document.querySelector('.js-images-container'),\n  loader: document.querySelector('.loader'),\n};\n","import { refs } from './refs';\n\nexport function showLoader() {\n  refs.loader.classList.remove('hidden');\n  refs.gallery.classList.add('hidden');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.add('hidden');\n  refs.gallery.classList.remove('hidden');\n}\n","import axios from 'axios';\nimport { hideLoader } from './loader';\n\nasync function searchImages(imageTitle, page = 1) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '48725247-1ad674d1a078eddb17b21f3f8';\n\n  const params = {\n    q: imageTitle,\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page,\n    per_page: 40,\n  };\n\n  try {\n    const response = await axios.get(BASE_URL, { params });\n    return response.data;\n  } catch (error) {\n    console.error('API Request Error:', error);\n    throw error;\n  }\n}\n\nexport default searchImages;\n","import { refs } from './refs';\nimport { showLoader, hideLoader } from './loader';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction imageTemplate(image) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = image;\n\n  return `\n        <li class=\"image-item\">\n            <a href=${largeImageURL}>\n                <img class=\"image\" src=\"${webformatURL}\" alt=\"${filterTags(\n    tags\n  )}\">\n                <ul class=\"stat-list\">\n                    <li class=\"stat-item\">\n                        <h3 class=\"stat-title\">Likes</h3>\n                        <p class=\"stat-description\">${likes}</p>\n                    </li>\n                    <li class=\"stat-item\">\n                        <h3 class=\"stat-title\">Views</h3>\n                        <p class=\"stat-description\">${views}</p>\n                    </li>\n                    <li class=\"stat-item\">\n                        <h3 class=\"stat-title\">Comments</h3>\n                        <p class=\"stat-description\">${comments}</p>\n                    </li>\n                    <li class=\"stat-item\">\n                        <h3 class=\"stat-title\">Downloads</h3>\n                        <p class=\"stat-description\">${downloads}</p>\n                    </li>\n                </ul>\n            </a>\n      </li>\n      `;\n}\n\nfunction imagesTemplate(images) {\n  return images.map(imageTemplate).join('\\n');\n}\n\nconst largeImages = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n});\n\nexport function renderImages(images) {\n  showLoader();\n\n  const markup = imagesTemplate(images);\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n  largeImages.refresh();\n\n  hideLoader();\n}\n\nfunction filterTags(tags) {\n  const tagsArray = tags.split(',');\n  const tagsTrim = tagsArray.map(tag => tag.trim());\n  const uniqueTegs = new Set(tagsTrim);\n\n  return [...uniqueTegs].join(', ');\n}\n","import { refs } from './refs';\n\nexport function showLoadButton() {\n  refs.loadButton.classList.remove('hidden');\n  refs.gallery.classList.add('hidden');\n}\n\nexport function hideLoadButton() {\n  refs.loadButton.classList.add('hidden');\n  refs.gallery.classList.remove('hidden');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function showNoMatchMessage() {\n  iziToast.error({\n    position: 'topRight',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n\nexport function showNoMoreLoad() {\n  iziToast.error({\n    position: 'topRight',\n    message: \"We're sorry, but you've reached the end of search results.\",\n  });\n}\n","export function smoothScrollToNewImages() {\n  const card = document.querySelector('.image-item');\n\n  if (card) {\n    const { height } = card.getBoundingClientRect();\n\n    window.scrollBy({\n      top: height * 2.6,\n      behavior: 'smooth',\n    });\n  }\n}\n","import { refs } from './js/refs';\nimport searchImages from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\nimport { showLoader, hideLoader } from './js/loader';\nimport { showLoadButton, hideLoadButton } from './js/load-more-button';\nimport { showNoMatchMessage, showNoMoreLoad } from './js/messages';\nimport { smoothScrollToNewImages } from './js/scroll';\n\nrefs.searchForm.addEventListener('submit', handleFormSubmit);\nrefs.loadButton.addEventListener('click', handlePagination);\n\nlet userValue = '';\nlet page = 1;\n\nasync function handleFormSubmit(e) {\n  e.preventDefault();\n\n  userValue = e.target.elements['search-images'].value.trim();\n\n  page = 1;\n  refs.gallery.innerHTML = '';\n\n  showLoader();\n  hideLoadButton();\n\n  try {\n    const data = await searchImages(userValue, page);\n\n    if (data.hits.length === 0) {\n      showNoMatchMessage();\n      hideLoader();\n      return;\n    }\n\n    renderImages(data.hits);\n    hideLoader();\n\n    if (data.totalHits > page * 40) {\n      showLoadButton();\n    }\n  } catch (error) {\n    console.log(error);\n    hideLoader();\n  }\n\n  e.target.reset();\n}\n\nasync function handlePagination() {\n  page += 1;\n\n  showLoader();\n\n  try {\n    const data = await searchImages(userValue, page);\n    renderImages(data.hits);\n    hideLoader();\n\n    if (data.totalHits <= page * 40) {\n      hideLoadButton();\n      showNoMoreLoad();\n    }\n\n    smoothScrollToNewImages();\n  } catch (error) {\n    console.log(error);\n  }\n}\n"],"names":["refs","showLoader","hideLoader","searchImages","imageTitle","page","BASE_URL","params","axios","error","imageTemplate","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","filterTags","imagesTemplate","images","largeImages","SimpleLightbox","renderImages","markup","tagsTrim","tag","showLoadButton","hideLoadButton","showNoMatchMessage","iziToast","showNoMoreLoad","smoothScrollToNewImages","card","height","handleFormSubmit","handlePagination","userValue","data"],"mappings":"owBAAO,MAAMA,EAAO,CAClB,WAAY,SAAS,cAAc,iBAAiB,EACpD,aAAc,SAAS,cAAc,mBAAmB,EACxD,WAAY,SAAS,cAAc,iBAAiB,EACpD,QAAS,SAAS,cAAc,sBAAsB,EACtD,OAAQ,SAAS,cAAc,SAAS,CAC1C,ECJO,SAASC,GAAa,CAC3BD,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCA,EAAK,QAAQ,UAAU,IAAI,QAAQ,CACrC,CAEO,SAASE,GAAa,CAC3BF,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,QAAQ,UAAU,OAAO,QAAQ,CACxC,CCPA,eAAeG,EAAaC,EAAYC,EAAO,EAAG,CAChD,MAAMC,EAAW,2BAGXC,EAAS,CACb,EAAGH,EACH,IAJc,qCAKd,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAU,EACd,EAEE,GAAI,CAEF,OADiB,MAAMG,EAAM,IAAIF,EAAU,CAAE,OAAAC,CAAM,CAAE,GACrC,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,qBAAsBA,CAAK,EACnCA,CACP,CACH,CCnBA,SAASC,EAAcC,EAAO,CAC5B,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA;AAAA,sBAEaE,CAAa;AAAA,0CACOD,CAAY,UAAUO,EAC5DL,CACJ,CAAG;AAAA;AAAA;AAAA;AAAA,sDAImDC,CAAK;AAAA;AAAA;AAAA;AAAA,sDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAM/D,CAEA,SAASE,EAAeC,EAAQ,CAC9B,OAAOA,EAAO,IAAIX,CAAa,EAAE,KAAK;AAAA,CAAI,CAC5C,CAEA,MAAMY,EAAc,IAAIC,EAAe,aAAc,CACnD,aAAc,KAChB,CAAC,EAEM,SAASC,EAAaH,EAAQ,CACnCpB,IAEA,MAAMwB,EAASL,EAAeC,CAAM,EACpCrB,EAAK,QAAQ,mBAAmB,YAAayB,CAAM,EACnDH,EAAY,QAAO,EAEnBpB,GACF,CAEA,SAASiB,EAAWL,EAAM,CAExB,MAAMY,EADYZ,EAAK,MAAM,GAAG,EACL,IAAIa,GAAOA,EAAI,KAAI,CAAE,EAGhD,MAAO,CAAC,GAFW,IAAI,IAAID,CAAQ,CAEd,EAAE,KAAK,IAAI,CAClC,CCnEO,SAASE,GAAiB,CAC/B5B,EAAK,WAAW,UAAU,OAAO,QAAQ,EACzCA,EAAK,QAAQ,UAAU,IAAI,QAAQ,CACrC,CAEO,SAAS6B,GAAiB,CAC/B7B,EAAK,WAAW,UAAU,IAAI,QAAQ,EACtCA,EAAK,QAAQ,UAAU,OAAO,QAAQ,CACxC,CCPO,SAAS8B,GAAqB,CACnCC,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACN,CAAG,CACH,CAEO,SAASC,GAAiB,CAC/BD,EAAS,MAAM,CACb,SAAU,WACV,QAAS,4DACb,CAAG,CACH,CChBO,SAASE,GAA0B,CACxC,MAAMC,EAAO,SAAS,cAAc,aAAa,EAEjD,GAAIA,EAAM,CACR,KAAM,CAAE,OAAAC,CAAM,EAAKD,EAAK,sBAAqB,EAE7C,OAAO,SAAS,CACd,IAAKC,EAAS,IACd,SAAU,QAChB,CAAK,CACF,CACH,CCHAnC,EAAK,WAAW,iBAAiB,SAAUoC,CAAgB,EAC3DpC,EAAK,WAAW,iBAAiB,QAASqC,CAAgB,EAE1D,IAAIC,EAAY,GACZjC,EAAO,EAEX,eAAe+B,EAAiB,EAAG,CACjC,EAAE,eAAc,EAEhBE,EAAY,EAAE,OAAO,SAAS,eAAe,EAAE,MAAM,OAErDjC,EAAO,EACPL,EAAK,QAAQ,UAAY,GAEzBC,IACA4B,IAEA,GAAI,CACF,MAAMU,EAAO,MAAMpC,EAAamC,EAAWjC,CAAI,EAE/C,GAAIkC,EAAK,KAAK,SAAW,EAAG,CAC1BT,IACA5B,IACA,MACD,CAEDsB,EAAae,EAAK,IAAI,EACtBrC,IAEIqC,EAAK,UAAYlC,EAAO,IAC1BuB,GAEH,OAAQnB,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBP,GACD,CAED,EAAE,OAAO,OACX,CAEA,eAAemC,GAAmB,CAChChC,GAAQ,EAERJ,IAEA,GAAI,CACF,MAAMsC,EAAO,MAAMpC,EAAamC,EAAWjC,CAAI,EAC/CmB,EAAae,EAAK,IAAI,EACtBrC,IAEIqC,EAAK,WAAalC,EAAO,KAC3BwB,IACAG,KAGFC,GACD,OAAQxB,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH"}